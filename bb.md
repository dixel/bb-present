---
patat:
  images:
    backend: auto
  eval:
    clojure:
      command: bb -e "$(cat -)"
      fragment: true
      replace: false
    figlet:
      command: figlet -f 3d -t -w 200
      fragment: false
      replace: true
  incrementalLists: true
...

---

```figlet
Hi   everyone!
```

- ```

                                     _,╓╔╔╔╦╦╔╔╔╓,_
                                _╔╦R▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╠K╔_
                             ,╔╠▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒K²
                           ╔╠▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╠╦_
                         ╔╠▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╦
                        ╩▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╠_
                      ,╠▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒,
                      ╠▒▒▒▒▒Γ                  ²²╠▒▒▒▒▒▒▒╚``▒▒▒▒▒▒_
                     ╚▒▒▒▒▒▒                      ╙▒▒▒╚`    ▒▒▒▒▒▒╠
                     ▒▒▒▒▒▒▒                       ╠`       ▒▒▒▒▒▒▒_
                    [▒▒▒▒▒▒▒                       ╡        ▒▒▒▒▒▒▒▒
                    [▒▒▒▒▒▒▒                       ╡        ▒▒▒▒▒▒▒H
                    '▒▒▒▒▒▒▒                       ╠_       ▒▒▒▒▒▒▒H
                     ╠▒▒▒▒▒▒╦                      ▒▒▒╔_    ▒▒▒▒▒▒Ü
                     '▒▒▒▒▒▒▒▒╓_                  _▒▒▒▒▒▒╔_ ▒▒▒▒▒▒H
                      ²▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╙
                       `╠▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒^
                         ╚▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╩
                          `╚▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╩`
                             ²╠▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╠╙
                                '╚╠▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╠╚^
                                    `'^╙╚╚╚╩╩╚╚╚╙^^`



    ╔╔╔╔╔╔╔╔╔╔╔╔╔╔╔²      _╓╔╔╔╔²_           _╓╔╔╔╔╓_      ╔²__,╓╔╔╓,_   _╓╔╔╔╓__
    '╩▒▒▒▒▒▒▒▒▒▒▒▒▒▒╠  _╔╠▒▒▒▒▒▒▒▒▒╦_     ,╔╠▒▒▒▒▒▒▒▒▒╦_   ▒▒▒▒▒▒▒▒▒▒▒▒╔R▒▒▒▒▒▒▒▒K_
              ,╦▒▒▒╩` ╔╠▒▒╚`    `╙╠▒▒H   ╔▒▒▒╙`    ²╚▒▒▒H  ▒▒▒▒╙    ²╠▒▒▒╠^   `²▒▒▒╕
            ╓R▒▒▒╚   j▒▒▒`         ╚▒▒▒ j▒▒▒          ╠▒▒U ▒▒▒Ü      '▒▒▒`      [▒▒╠
          ╔╩▒▒▒╙     ╚▒▒Ü          [▒▒▒ ╠▒▒Ü          ▐▒▒Ü ▒▒▒⌂       ▒▒▒       [▒▒▒
       _╔╠▒▒╠^       [▒▒▒_         ╚▒▒╩ ╙▒▒▒_         ╠▒▒Ü ▒▒▒⌂       ▒▒▒       [▒▒▒
     _╦▒▒▒╠^          ╙▒▒▒╦__   _╔╠▒▒╩   ╚▒▒▒╦__  _,╔╠▒▒╚  ▒▒▒⌂       ▒▒▒       [▒▒▒
     ╚▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╓ `╚╠▒▒▒▒▒▒▒▒▒╩`     `╚▒▒▒▒▒▒▒▒▒▒╚²   ▒▒▒`       ╠▒▒       ²▒▒▒
      '²²²²²²²²²²²²²²²    `'^²²²^`           `'^²²^^`      ²^`         ^²        `²²
```

---


```figlet
BB-KING
```

```

    ████████████████████████████████████████████▓▓██████████████████████████████████
    ███████████████████████████████████▓▀▌▓▓██▓▓███▓▌╣▌▀▀▀▀▓▀▀██████████████████████
    ████████████████████████████╫▓▌▓▓▓▓█████████████████████╣ ╬█████████████████████
    ███████████████████████████▌╡█████████▀█▄█▐█╗█╫██▌╫╬███▓⌐║▓█████████████████████
    ███████████████████████████▌╡████▓█▌▓█▓▀,╙'"╙╫█▌▓╬╬████M ╬██████████████████████
    ███████████████████████████▌▌█╬▀╠╬╬█N██Φ3Ü╬╠╫██▓▓B▌╚╩╣▓ ╬▓████▓▓▓▓██████████████
    ███████████████████████▓▓██▌▓█▌▒▌╬╬████╣▀▓▀▓████▓@▓▓▓█N╒███▌ÜÜÜ▒▒Ü██████████████
    ██████████████████████▌╠╠╣▓⌐╣█▀▀▌█▓▓▀██Ñ╫▌[█[█╨█▀█Ñ▓▓▌ ▓██▓▓▌▀╬ÖÖ╓██████████████
    ██████████████████████╬╫╬▓▓"▓▌▐M╡█H╬¬▓▓░▓H╫▌╫█¼╩╟▌║Ñ█Ñ ╬████████████████████████
    ███████████████████████████│█▒▀░▌█,▀▄█▓▄█▄▓▓▓▌▓▄▓▌╣▓▓─[╣████████████████████████
    ██████████████████████████▌║█████▀█▌▓╢╫╬╢╬╢▒╬╟▓▓████W ╣█████████████████████████
    ██████████████████████████M╫▌▌╫╬▌███Ñ╟╨█▓╠▄╫█▓▓╝Ñ╠╢▓Ñ_╬█████▓▀▀╬████████████████
    █████████████████████Ñ╠╬▓█▐█▌░╬╣Ñ▓╚▌[█,█░▓Ñ║▌▓▌)▓▓▌▌L║██▌▓╠▒▒▒▒╠╣███████████████
    ████████████████████╢╠╣▓▓▌â██▓▌█▌Ñ▓Ü╫Ñ║█j█░▓▓╫█████▌ ▓██▓█▓╫╬╬╬Ü║███████████████
    ████████████████████▓╬▓▓▓H╫█▓▓▌▓Ü██U▄»█Ñ╟█j███╬▌╫╬█6 ╬████████▓▓████████████████
    █████████████████████████{████▌╬▀█▌╟▓3█U▓Ñ╟██╣█████Ñ ╣██████████████████████████
    ████████████████████████Ñ╣████▌█¼█Ü█Ü╣█¼█H╣▓╫██████▌j╫██████████████████████████
    ████████████████████████⌠██╬▓█╫█▒█░▀¼█▌]Ñ╔█@█╫╬╬▓██L[▓██████▓▀██████████████████
    ███████████████████▌╬▓█M╣█@╬╫╣╣╬╟█████████▌╫▓H█╬╬╬█E╠███Ñ▒Ü▒▒▒Ö█████████████████
    ██████████████████╬╠╢╣▓▐██▌▐▓╬╣Ñ▓██╬╫╠████▓╠▓▓████▓L╫█▓█▌▄▒▒╠╠`█████████████████
    ██████████████████╫╣▓▓½▓███╬▌╬╠█▓╬╬╠╚╠╠╠███▌╟▓█▓██▓L╠█████▓▓▓▌▓█████████████████
    █████████████████████▌Æ█████▌█▓█▒╟╬╠╘K╠╠▓█████████▌"╚███████████████████████████
    ██████████████████████▄╙╬███╣███▒╬╠╠▒╬╬╬████████╜▄▓█████████████████████████████
    ████████████████████████▄T▓█▓███│╬╟╠╠╬╬╬█████▓"▄████████████████████████████████
    █████████████████████████▓╙▌███▓▒╬╟╜╟╬╬╣████Ñ╓██████████████████████████████████
    ██████████████████████████WÖ███▌▒╬╩╫╬╬╬╣███É╓███████████████████████████████████
    ██████████████████████████▌▐█▓▓╬▒╬╬K╣╬╬╠██▌ ████████████████████████████████████
    ██████████████████████████▌╬█▌╣╬╬╬╬╣╬╬╬╢██W▐████████████████████████████████████
    ██████████████████████████─╣█Ñ▓█▓▓╝▀██▓██▀H╫████████████████████████████████████
    ██████████████████████████ⁿ▄▄▄▄▄║▄▄▄▄▄▄▄▄▄⌐▓████████████████████████████████████

```

Riley B. King (September 16, 1925 – May 14, 2015), known professionally as B.B. King, was an American blues singer-songwriter, guitarist, and record producer.
He introduced a sophisticated style of soloing based on fluid string bending, shimmering vibrato and staccato picking that influenced many later blues electric guitar players.

---

```
                                     _
                                         ╓@╣╬▓W,
                                       ╗▓╬╬╬╬╬╬╬▓▄
                                     ¢╬╬╬╬╬╬╬╬╬╬╬╬▓▄
                                   ,▓╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬▓_
                                  ╔╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬▓_
                                 ╔╬╬╬╬╬██▀▀╙╙╙▀▀██╬╬╬╬╬_
                                 ╣╣╣╬█▀│░░░╩²   ²╚██╬╣╣▓
                                ║╣█████████████████████╣H
                                ╣▓██████████▀██▀███████▓▒
                                ╟▓█ÑÅ██████M ╟█¼╙██████▓L
                                 ▓████▀▀▀▀▀   ▀▀▀▀▀████▌
                                  ╫▓╬██,         ▄██▓▓▀
                                   ╙╣▓╬╬██▓▄▄▄▓██╬▓▓▀
                                  _▄▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▄
                                ,▓▓▓▓▓▓▓▓▓▀▓▓▓▀▓▓▓▓▓▓▓▓▌_


        ╒▄▄                 ╒▄▄                       ▄▓         ╔▄▌
        ▐██ ,_    ,,,_      ▐██ ,_    _,,_     ,,,_  ▐██ ,,      ╟█▌  __  _,,,_
        ▐██▀▀██  ╙▀▀▀██   _ ▐██▀▀██  ╙▀▀▀██  ▐██▀▀▀" ▐██▀▀██  _  ╟█▌_██▀  ▀▀▀▀██
        ▐██  ██M ▓█▀▀██ ²██L▐██  ██▌ ▓█▀▀██─  ▀████▄ ▐██  ██ ▐██ ╟█▌██▄  ,██▀▀██
        ▐██▄▄██ ╙██▄▄██▄    ▐██▄▄██ ╘██▄▄██▌ ▄█▄▄██▌ ▐██  ██     ╟█▌ ██▌ ╟██▄▓██─
         ` `'`    "└  '      ` `└─    "└  `    └'└    ``  ``      `   ``   "└  '
```

- Native Clojure interpreter for scripting with fast startup [babashka](https://github.com/babashka/babashka).
- Uses Simple Clojure Interpreter [sci](https://github.com/borkdude/sci) to evaluate clojure code
- Uses GraalVM for native binary and fast startup
- Easy installable in Mac OS: `brew install borkdude/brew/babashka`

```
$ bb
Babashka v0.4.0 REPL.
Use :repl/quit or :repl/exit to quit the REPL.
Clojure rocks, Bash reaches.

(vec '(1 2))
[1 2]
(println "Hello World!")
Hello World!
nil
user=>
```

---

```figlet
But   do   I   use   it?
```

...

- Not actively
- Used as a runtime for applicant test last month
- Used SCI (Simple Clojure Interpreter) for one of my projects - [kafkus](https://github.com/dixel/kafkus) - a tool to tail log kafka topic and perform single message transformations using Clojure
```
               ╓▄▄▄▄_
             ▓████████▄
            ████╙  ▀███W
            ████   ,███▌
             █████████▀
              └▀████▀                   ,▄▄╓ ╓╓╓
                ███▌                  ▄█████ ███▌
                ███▌          ___     ███▌   ███▌                     ___
                ███▌ ▄███▀ ▐███████▌▐██████▌ ███▌ ▄███▀ ███⌐   ███⌐▄███████M
                ███████▀   ▄▄▓▓▄▄███▌ ███▌   ███████▀   ███⌐   ███⌐████▌▄▄_
                ███████▌  ╫███▀╙▀███▌ ███▌   ███████▌   ███▄  ╓███⌐ ╙▀▀█████
                ███▌ ╙███▌╙███▓▓████▌ ███▌   ███▌ ╙███▌ ▀█████████⌐█████████
                ───    ───  └╙╙└  ──  ───    ───    ───   "╙╙  ───   └╙╙╙└
```

---

```figlet
Do  I  find  it  interesting  and  use  the  opportunity  to  talk  on  this  meetup  as  an  actual  way  to  learn/apply  babashka  in  real  life?
```

...

- Yes

---

```figlet
Clojure - differences
```

```

                                    __,╓╖╔╦╦╦╦╔╖╓,__
                             _,╔φD╬╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠DK╦,_
                         _╓@╬╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠K╖_
                      _╦╬╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╬W,
                    ╔╬╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╦_
                 _φ╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠D_
                ó╜^`         `'^╚╠╠╠╠╠╝╜╙^"^^""╙╙╝╝╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠D_
                                                     `╙╝╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╦
                       ____           ._==░░░░==___      '╚╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠╬_
                 ╓╗Æ▓╬╬╬╬╬╬╩           `»»»»»»»»»»»»░=_     ╙╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠_
              ╔▓╬╬╬╬╬╬╬╬╬╩    _╦╬╠D╓     =»»»»»»»»»»»»»»=_    ╙╠╠╠╠╠╠╠╠╠╠╠╠╠╠_
            ¢╣╬╬╬╬╬╬╬╬╬╬^    j╠╠╠╠╠╠D_    ░»»»»»»»»»»»»»»»░_   `╬╠╠╠╠╠╠╠╠╠╠╠╠╠
          ╒▓╬╬╬╬╬╬╬╬╬╬╬    ╓╠╠╠╠╠╠╠╠╠╠╓    ░»»»»»»»»»»»»»»»»_    ╠╠╠╠╠╠╠╠╠╠╠╠╠D
         /╬╬╬╬╬╬╬╬╬╬╬╬"   ╔╠╠╠╠╠╠╠╠╠╠╠╠╦    »»»»»»»»»»»»»»»»»\    ╠╠╠╠╠╠╠╠╠╠╠╠╠H
        ╒╬╬╬╬╬╬╬╬╬╬╬╬▌    ╠╠╠╠╠╠╠╠╠╠╠╠╠╠r   !»»»»»»»»»»»»»»»»»_   !╠╠╠╠╠╠╠╠╠╠╠╠╠
        ▓╬╬╬╬╬╬╬╬╬╬╬╬"   ╚╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠    ░»»»»»»»»»»»»»»»»░    ╠╠╠╠╠╠╠╠╠╠╠╠╠
        ╬╬╬╬╬╬╬╬╬╬╬╬╬    ╠╠╠╠╠╠╠╠╠╠╠╠╠╠╠`    '»»»»»»»»»»»»»»»»»    ╠╠╠╠╠╠╠╠╠╠╠╠╠
        ╬╬╬╬╬╬╬╬╬╬╬╬╬    ╠╠╠╠╠╠╠╠╠╠╠╠╠╠   ╔   |»»»»»»»»»»»»»»»»    ╠╠╠╠╠╠╠╠╠╠╠╠╠
        ╣╬╬╬╬╬╬╬╬╬╬╬╬L   ╚╠╠╠╠╠╠╠╠╠╠╠╠   j╠_   =»»»»»»»»»»»»»»=    ╠╠╠╠╠╠╠╠╠╠╠╠╠
        [╬╬╬╬╬╬╬╬╬╬╬╬▓    ╠╠╠╠╠╠╠╠╠╠╩   ╔╠╠╠    =»»»»»»»»»»»»»    [╠╠╠╠╠╠╠╠╠╠╠╠H
         ╬╬╬╬╬╬╬╬╬╬╬╬╬▄    ╠╠╠╠╠╠╠╠╩   ╔╠╠╠╠▒    =»»»»»»»»»»»`   ┌╠╠╠╠╠╠╠╠╠╠╠╠╩
         ╚╬╬╬╬╬╬╬╬╬╬╬╬╬╕    ╠╠╠╠╠╠╩   ┌╠╠╠╠╠╠r    ░»»»»»»»»░    ,╠╠╠╠╠╠╠╠╠╠╠╠╙
          ╫╬╬╬╬╬╬╬╬╬╬╬╬╬W    '╬╠╠╩    ╬╠╠╠╠╠╠╠_    `»»»»»»`    ╔╠╠╠╠╠╠╠╠╠╠╠╙
           ╫╬╬╬╬╬╬╬╬╬╬╬╬╬▓╖    '╚    j╠╠╠╠╠╠╠╠╠,     `==`    ,╬╠╠╠╠╠╠╠╠╩^
            ╫╬╬╬╬╬╬╬╬╬╬╬╬╬╬▓╖        [╠╠╠╠╠╠╠╠╠╠H_           ``````
             ╙╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬W,       `'"^╙╙╙^^`
              `╣╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬▓φ╖_              _╓╗@╗╖,,___    ___,,╖╗
                ╙╣╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬▓▒K@@@@@▒▓▓╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╜
                  ╙╣╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╣╜
                    `╚╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╝^
                       '╚╣╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╝^
                           ╙╝╣╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╝╙`
                               `"╙╝╣╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬▓╝╨^`
                                         ``````
```

- A pre-selected set of Java classes are supported. You cannot add Java classes at runtime.
- Loops are slower than in Clojure on the JVM.
- No deftype, definterface
- defprotocol and defrecord are implemented using multimethods and regular maps.
- Currently reify works only for one class at a time
- The core.async/go macro is not (yet) supported. For compatibility it currently maps to core.async/thread.

---

```figlet
Examples
```

```clojure
(+ 1 2)
```

```clojure
(println 
  (reduce + 
    (for [i (range 1000000)]
      (if (= (mod i 7) 0)
        i
        0))))
```

---

```figlet
JVM   at   hand
```

```clojure
(System/currentTimeMillis)
```

```clojure
(java.util.UUID/randomUUID)
```

```clojure
(do 
  (Thread/sleep 1000)
  (println "Hi!"))
```

---

```figlet
PODs - extra   functionality
```

```clojure
(require '[babashka.pods :as pods])

(pods/load-pod 'org.babashka/postgresql "0.0.4")

(require '[pod.babashka.postgresql :as pg])

(def db {:dbtype   "postgresql"
         :host     "localhost"
         :dbname   "postgres"
         :user     "postgres"
         :password "nopasaran"
         :port     5432})

(-> (pg/execute! db ["select version() as version"])
    first
    :version)
```

---

```figlet
More   SQL
```

```clojure
(require '[babashka.pods :as pods])

(pods/load-pod 'org.babashka/postgresql "0.0.4")

(require '[pod.babashka.postgresql :as pg])

(def db {:dbtype   "postgresql"
         :host     "localhost"
         :dbname   "postgres"
         :user     "postgres"
         :password "nopasaran"
         :port     5432})

(defn query-database [db query]
  (pg/execute! db [query]))

(defmacro SELECT [& body]
  (list 'let ['result (list 'query-database
                            db
                            (apply str "SELECT " (interpose " " body)))]
        (list 'clojure.pprint/print-table 'result)
        'nil))

(SELECT 1 AS one)
```

---

```figlet
Docker
```

```clojure
(require '[babashka.pods :as pods])

(pods/load-pod 'lispyclouds/docker "0.1.1")

(require '[pod.lispyclouds.docker :as docker])

(def containers (docker/client {:category :containers
                                :conn     {:uri "unix:///var/run/docker.sock"}}))

(def fields 
  [:State :Names :ImageID])

(->> (docker/invoke containers {:op :ContainerList})
     (map (apply juxt fields)))
```

---

```figlet
Other   available   PODs
```

```
Pod                                Description
+------------------------------+-----------------------------------------------------------------------------------------+
|    borkdude/clj-kondo        |  A clojure linter that sparks joy                                                        |
|    justone/brisk             |  Freeze and thaw with Nippy                                                              |
|    justone/tabl              |  Make tables from data in your terminal                                                  |
|    lispyclouds/docker        |  Interact with Docker                                                                    |
|    org.babashka/aws          |  AWS client based on aws-api                                                             |
|    org.babashka/buddy        |  Cryptographic API provided by buddy                                                     |
|    org.babashka/etaoin       |  Etaoin, a pure Clojure webdriver protocol implementation                                |
|    org.babashka/filewatcher  |  Filewatcher based on Rust notify                                                        |
|    org.babashka/fswatcher    |  Filewatcher based on Go fsnotify                                                        |
|    org.babashka/hsqldb       |  HSQLDB access via next.jdbc                                                             |
|    org.babashka/mssql        |  MSSQL access via next.jdbc                                                              |
|    org.babashka/mysql        |  MySQL access via next.jdbc                                                              |
|    org.babashka/parcera      |  Grammar-based Clojure(script) parser                                                    |
|    org.babashka/postgresql   |  Postgresql access via next.jdbc                                                         |
|    org.babashka/go-sqlite3   |  Interact with sqlite3                                                                   |
|    retrogradeorbit/bootleg   |  Simple template processing command line tool to help build static websites              |
|    rorokimdim/stash          |  Encrypted text storage                                                                  |
|    tzzh/aws                  |  Interact with AWS                                                                       |
|    tzzh/mail                 |  Send emails                                                                             |
|    huahaiy/datalevin         |  Datalevin database                                                                      |
+------------------------------+-----------------------------------------------------------------------------------------+
```

---

```figlet
Conclusion
```

```clojure
;#!/usr/local/bin/bb
(require '[table.core :as t]
         '[clojure.tools.cli :as cli])

(def cli-options
  [["-c" "--country <country>" "The country to fetch COVID details for" :default nil]
   ["-g" "--graph" :default false]])

(defn table [detail]
  (-> (dissoc detail :updated :deathsPerOneMillion :testsPerOneMillion :casesPerOneMillion :countryInfo)
      vector
      (t/table :style :unicode)))

(defn fetch [url]
  (-> (curl/get url)
      :body
      (json/parse-string true)))

(defn graph [d title]
  (let [data (apply str (interpose " " d))
        graph (:out (shell/sh "asciigraph" "-h" "10" "-c" title :in data))]
    (println graph)))

(defn graph-values [m]
  (let [transform (fn [s] (str/replace s #"(\d+)/(\d+)/(\d+)" "$3-$1-$2"))
        mapping (into (sorted-map) (map #(vector % (transform %)) (keys m)))
        new-map (clojure.set/rename-keys m mapping)]
    (vals (into (sorted-map) new-map))))

(defn print-country-graph [c]
  (let [{:keys [:cases :deaths :recovered]} (:timeline (fetch (str "https://corona.lmao.ninja/v2/historical/" c)))]
    (graph (graph-values cases) "Number of cases")
    (graph (graph-values deaths) "Number of deaths")
    (graph (graph-values recovered) "Number of recovered")))

(let [{:keys [:country :graph]} (:options (cli/parse-opts ["-c" "Germany" "-g"] cli-options))]
  (if (nil? country)
    (table (fetch "https://corona.lmao.ninja/v2/all"))
    (do (table (fetch (str "https://corona.lmao.ninja/v2/countries/" country)))
        (when graph (print-country-graph country)))))
```

```figlet
Stay healthy and safe!
```

---

```figlet
Questions?
```

```


                                   _,╓▄@@▓▓▓▓▓▓▓▓▓▓▒φ▄╓__
                              _╦@▓▓╬╬╬╬╣╣╬╬╬╬╬╣╣╣▓▓╬╬╬╬╣▓▓φ╦_
                             ╔▓▓╬╬╬╬╬╬╣╣╣╬╬▓▓▓▓▓▓▓▓╣▓▓▓▓╬╣▓▓▓▓φ_
                            ▓╬▓▓╬╬╬╬╬╣╬╬╣╣╣▓▓▓╣╣╣▓▓▓▓▓▓▓▓╣╣╣▓▓▓╣▓╦
                            ╫╣▓▓╬╣╬╣╬╬╬╬╬╬╣╣╣▓╬╬╬▓▓▓▓╣╣╣▓▓▓▓▓▓╬╣▓╬╣╦
                            ║▓▓▓▓╢╬╬╬╬╬╣▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓╬▓▓▓▓▓▓╬╬╬╬╬▒_
                            [╬▓▓▓╬╣╣╬╣▓▓▀▀▀▀▀▀▓▓▓▓▓▓▓▓▓▓▓▓▓╬▓╣╣╣╣╣╬╬╬▓
                             ╫▓▓▓▓╝╨`            '╙╣▓▓▓▓▓▓▓▓╬╣╣▓╬▓╬╬╬╣▒
                             ╚▓▀^                   `╚▓▓▓▓▓▓▓▓╟╣╬╬╣╬╬╬╬≥
                             _- ````²=»_              `▓▓▓▓▓▓▓╬▓▓▓╣▓╬╬╬▒
                                       ``=_            !▓▓▓█▓▓▒╣▓▓╣▓╬╬╬╬
                                          `»            ▓▓▓▓▓▓╬╬▓▓╣▓╬╬╬╬
                                           `=           ▓▓▓▓▓▓╣▓╬╬╣╣▓╬╬▒
                                                       ║▓▓▓▓▓╬▓╬╣╣╣╣╣╬╬`
                                             _        Φ▓▓▓▓▓╬╣╣╣╣╣╣╬╣╬H
                                            :`      ╔▓▓▓▓▓╬╬╣╬╬╬╣▓╬╣▓╙
                        `                __░∩     ╔▓▓▓▓╬╣╣╣╣╣▓╣╣╬╬▓╣"
                         ` _     _   __,:░░H   _▄▓▓▓▓▓╬╬╣╣▓╬╬╣╬╬╣╣╩
                           `»░░░,░░░░░░░▒R`  ╓▓▓▓▓▓╬╬╬╣▓╬╬╬╣▓▓╬╬╩
                             `╙╙,»╬╠╠╠╚ÜÜ  ╓▓▓▓▓▓╬╬╬╬╣╣╬╣▓▓╬╬▓╜
                             `»²=_╔╬╩╚ÜÜÜ░╙▀▓▓▓╬╬╣╣╬╣╬╬╣╣╬╬╣╙
                              `.»╟╬Ü░Ü``   `╟▓╣╬╣╬╣╬╬╣╣╬╬╬^
                              _,▒╬╬╩`     __╠╣▓▓▓▓▓╬╬╬▓▓^
                             »R╫╩╙`       `╔╣╣▓▓▓▓▓╣╬╣╩
                            »`         _░`j╣╣▓▓▓▓▓▓╬╬╩
                          `»``     ___░»`-╬╣▓▓╣╣╬╬╬╬╬
                              `````````` j▓╬╬╬╬╬╬╬╬╬▌
                             »           ╫▓╬╬╬╬╬╬╬╬╬╬
                                        ▐█▓╬╬╬╬╬╬╬╬╬╬_
                             `         ,▓█▓╬╬╬╬╬╬╬╬╬╬▒
                                     ,²▀▀█▓╬╬╬╬╬╬╬╬╬╬╬_
                                   ,⌐  ,▓▓██████▓▄▄```
                               _,»R   Φ██████▓╬╬╬╬╬╬▒,
                            _,░░»Ä`  ▐▓████▓╬╣╬╬╬╬╬╬╬╬▒
                         ,░░╠Ü``»╠   ║▓▓▓▓▓╠╬╬╬╬╬╬╬╬╬╬╬
                          `]╠▒_ :╠    ▓▓▓▓╬╬╬╬╬╬╬╬╬╬╬╬╣
                         _░▒╩Ü_,░╠┐ _░,╙▓▓▓╬╬╬╬╬╬╬╬╬╬╬▒__
                      _,=²²»»»»░░╠╬▒╦▒╣▓▓███╬╣╣▓╣╣╣╣▓╬▒░░░»
                    `»=`      ,░░╠╬╬╬╬╬╬╬╣▓███▓▓▓▓▓╬╬╚Ü░»`
                       ` -=²²²^²╙╙²╙ÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜ╙Ü»```
```
